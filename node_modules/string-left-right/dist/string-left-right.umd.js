/**
 * @name string-left-right
 * @fileoverview Looks up the first non-whitespace character to the left/right of a given index
 * @version 6.0.6
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/string-left-right/}
 */

"use strict";var stringLeftRight=(()=>{var ut=Object.create;var R=Object.defineProperty;var st=Object.getOwnPropertyDescriptor;var at=Object.getOwnPropertyNames,ce=Object.getOwnPropertySymbols,ct=Object.getPrototypeOf,ge=Object.prototype.hasOwnProperty,ft=Object.prototype.propertyIsEnumerable;var fe=(e,t,n)=>t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,p=(e,t)=>{for(var n in t||(t={}))ge.call(t,n)&&fe(e,n,t[n]);if(ce)for(var n of ce(t))ft.call(t,n)&&fe(e,n,t[n]);return e};var gt=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),ht=(e,t)=>{for(var n in t)R(e,n,{get:t[n],enumerable:!0})},he=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of at(t))!ge.call(e,o)&&o!==n&&R(e,o,{get:()=>t[o],enumerable:!(r=st(t,o))||r.enumerable});return e};var pt=(e,t,n)=>(n=e!=null?ut(ct(e)):{},he(t||!e||!e.__esModule?R(n,"default",{value:e,enumerable:!0}):n,e)),mt=e=>he(R({},"__esModule",{value:!0}),e);var tt=gt((C,_)=>{var bt=200,Oe="__lodash_hash_undefined__",Te=9007199254740991,ee="[object Arguments]",dt="[object Array]",ve="[object Boolean]",Ae="[object Date]",$t="[object Error]",te="[object Function]",Ne="[object GeneratorFunction]",F="[object Map]",Ve="[object Number]",ne="[object Object]",pe="[object Promise]",Re="[object RegExp]",U="[object Set]",Ce="[object String]",Ie="[object Symbol]",K="[object WeakMap]",je="[object ArrayBuffer]",x="[object DataView]",Le="[object Float32Array]",Fe="[object Float64Array]",Ue="[object Int8Array]",xe="[object Int16Array]",Je="[object Int32Array]",Me="[object Uint8Array]",Be="[object Uint8ClampedArray]",Pe="[object Uint16Array]",qe="[object Uint32Array]",yt=/[\\^$.*+?()[\]{}|]/g,Et=/\w*$/,St=/^\[object .+?Constructor\]$/,wt=/^(?:0|[1-9]\d*)$/,s={};s[ee]=s[dt]=s[je]=s[x]=s[ve]=s[Ae]=s[Le]=s[Fe]=s[Ue]=s[xe]=s[Je]=s[F]=s[Ve]=s[ne]=s[Re]=s[U]=s[Ce]=s[Ie]=s[Me]=s[Be]=s[Pe]=s[qe]=!0;s[$t]=s[te]=s[K]=!1;var Dt=typeof global=="object"&&global&&global.Object===Object&&global,_t=typeof self=="object"&&self&&self.Object===Object&&self,m=Dt||_t||Function("return this")(),ke=typeof C=="object"&&C&&!C.nodeType&&C,me=ke&&typeof _=="object"&&_&&!_.nodeType&&_,Ot=me&&me.exports===ke;function Tt(e,t){return e.set(t[0],t[1]),e}function vt(e,t){return e.add(t),e}function At(e,t){for(var n=-1,r=e?e.length:0;++n<r&&t(e[n],n,e)!==!1;);return e}function Nt(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e}function He(e,t,n,r){var o=-1,i=e?e.length:0;for(r&&i&&(n=e[++o]);++o<i;)n=t(n,e[o],o,e);return n}function Vt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Rt(e,t){return e==null?void 0:e[t]}function Ge(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch(n){}return t}function be(e){var t=-1,n=Array(e.size);return e.forEach(function(r,o){n[++t]=[o,r]}),n}function re(e,t){return function(n){return e(t(n))}}function de(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var Ct=Array.prototype,It=Function.prototype,J=Object.prototype,W=m["__core-js_shared__"],$e=function(){var e=/[^.]+$/.exec(W&&W.keys&&W.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),We=It.toString,$=J.hasOwnProperty,M=J.toString,jt=RegExp("^"+We.call($).replace(yt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ye=Ot?m.Buffer:void 0,Ee=m.Symbol,Se=m.Uint8Array,Lt=re(Object.getPrototypeOf,Object),Ft=Object.create,Ut=J.propertyIsEnumerable,xt=Ct.splice,we=Object.getOwnPropertySymbols,Jt=ye?ye.isBuffer:void 0,Mt=re(Object.keys,Object),Q=v(m,"DataView"),I=v(m,"Map"),Z=v(m,"Promise"),Y=v(m,"Set"),X=v(m,"WeakMap"),j=v(Object,"create"),Bt=w(Q),Pt=w(I),qt=w(Z),kt=w(Y),Ht=w(X),De=Ee?Ee.prototype:void 0,_e=De?De.valueOf:void 0;function S(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gt(){this.__data__=j?j(null):{}}function Wt(e){return this.has(e)&&delete this.__data__[e]}function Kt(e){var t=this.__data__;if(j){var n=t[e];return n===Oe?void 0:n}return $.call(t,e)?t[e]:void 0}function Qt(e){var t=this.__data__;return j?t[e]!==void 0:$.call(t,e)}function Zt(e,t){var n=this.__data__;return n[e]=j&&t===void 0?Oe:t,this}S.prototype.clear=Gt;S.prototype.delete=Wt;S.prototype.get=Kt;S.prototype.has=Qt;S.prototype.set=Zt;function b(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yt(){this.__data__=[]}function Xt(e){var t=this.__data__,n=B(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():xt.call(t,n,1),!0}function zt(e){var t=this.__data__,n=B(t,e);return n<0?void 0:t[n][1]}function en(e){return B(this.__data__,e)>-1}function tn(e,t){var n=this.__data__,r=B(n,e);return r<0?n.push([e,t]):n[r][1]=t,this}b.prototype.clear=Yt;b.prototype.delete=Xt;b.prototype.get=zt;b.prototype.has=en;b.prototype.set=tn;function O(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function nn(){this.__data__={hash:new S,map:new(I||b),string:new S}}function rn(e){return P(this,e).delete(e)}function on(e){return P(this,e).get(e)}function ln(e){return P(this,e).has(e)}function un(e,t){return P(this,e).set(e,t),this}O.prototype.clear=nn;O.prototype.delete=rn;O.prototype.get=on;O.prototype.has=ln;O.prototype.set=un;function T(e){this.__data__=new b(e)}function sn(){this.__data__=new b}function an(e){return this.__data__.delete(e)}function cn(e){return this.__data__.get(e)}function fn(e){return this.__data__.has(e)}function gn(e,t){var n=this.__data__;if(n instanceof b){var r=n.__data__;if(!I||r.length<bt-1)return r.push([e,t]),this;n=this.__data__=new O(r)}return n.set(e,t),this}T.prototype.clear=sn;T.prototype.delete=an;T.prototype.get=cn;T.prototype.has=fn;T.prototype.set=gn;function hn(e,t){var n=le(e)||Un(e)?Vt(e.length,String):[],r=n.length,o=!!r;for(var i in e)(t||$.call(e,i))&&!(o&&(i=="length"||In(i,r)))&&n.push(i);return n}function Ke(e,t,n){var r=e[t];(!($.call(e,t)&&Xe(r,n))||n===void 0&&!(t in e))&&(e[t]=n)}function B(e,t){for(var n=e.length;n--;)if(Xe(e[n][0],t))return n;return-1}function pn(e,t){return e&&Qe(t,ie(t),e)}function z(e,t,n,r,o,i,l){var c;if(r&&(c=i?r(e,o,i,l):r(e)),c!==void 0)return c;if(!q(e))return e;var h=le(e);if(h){if(c=Vn(e),!t)return vn(e,c)}else{var u=E(e),a=u==te||u==Ne;if(Jn(e))return En(e,t);if(u==ne||u==ee||a&&!i){if(Ge(e))return i?e:{};if(c=Rn(a?{}:e),!t)return An(e,pn(c,e))}else{if(!s[u])return i?e:{};c=Cn(e,u,z,t)}}l||(l=new T);var g=l.get(e);if(g)return g;if(l.set(e,c),!h)var D=n?Nn(e):ie(e);return At(D||e,function(V,f){D&&(f=V,V=e[f]),Ke(c,f,z(V,t,n,r,f,e,l))}),c}function mn(e){return q(e)?Ft(e):{}}function bn(e,t,n){var r=t(e);return le(e)?r:Nt(r,n(e))}function dn(e){return M.call(e)}function $n(e){if(!q(e)||Ln(e))return!1;var t=et(e)||Ge(e)?jt:St;return t.test(w(e))}function yn(e){if(!Ye(e))return Mt(e);var t=[];for(var n in Object(e))$.call(e,n)&&n!="constructor"&&t.push(n);return t}function En(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function oe(e){var t=new e.constructor(e.byteLength);return new Se(t).set(new Se(e)),t}function Sn(e,t){var n=t?oe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function wn(e,t,n){var r=t?n(be(e),!0):be(e);return He(r,Tt,new e.constructor)}function Dn(e){var t=new e.constructor(e.source,Et.exec(e));return t.lastIndex=e.lastIndex,t}function _n(e,t,n){var r=t?n(de(e),!0):de(e);return He(r,vt,new e.constructor)}function On(e){return _e?Object(_e.call(e)):{}}function Tn(e,t){var n=t?oe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function vn(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function Qe(e,t,n,r){n||(n={});for(var o=-1,i=t.length;++o<i;){var l=t[o],c=r?r(n[l],e[l],l,n,e):void 0;Ke(n,l,c===void 0?e[l]:c)}return n}function An(e,t){return Qe(e,Ze(e),t)}function Nn(e){return bn(e,ie,Ze)}function P(e,t){var n=e.__data__;return jn(t)?n[typeof t=="string"?"string":"hash"]:n.map}function v(e,t){var n=Rt(e,t);return $n(n)?n:void 0}var Ze=we?re(we,Object):Pn,E=dn;(Q&&E(new Q(new ArrayBuffer(1)))!=x||I&&E(new I)!=F||Z&&E(Z.resolve())!=pe||Y&&E(new Y)!=U||X&&E(new X)!=K)&&(E=function(e){var t=M.call(e),n=t==ne?e.constructor:void 0,r=n?w(n):void 0;if(r)switch(r){case Bt:return x;case Pt:return F;case qt:return pe;case kt:return U;case Ht:return K}return t});function Vn(e){var t=e.length,n=e.constructor(t);return t&&typeof e[0]=="string"&&$.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Rn(e){return typeof e.constructor=="function"&&!Ye(e)?mn(Lt(e)):{}}function Cn(e,t,n,r){var o=e.constructor;switch(t){case je:return oe(e);case ve:case Ae:return new o(+e);case x:return Sn(e,r);case Le:case Fe:case Ue:case xe:case Je:case Me:case Be:case Pe:case qe:return Tn(e,r);case F:return wn(e,r,n);case Ve:case Ce:return new o(e);case Re:return Dn(e);case U:return _n(e,r,n);case Ie:return On(e)}}function In(e,t){return t=t==null?Te:t,!!t&&(typeof e=="number"||wt.test(e))&&e>-1&&e%1==0&&e<t}function jn(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Ln(e){return!!$e&&$e in e}function Ye(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||J;return e===n}function w(e){if(e!=null){try{return We.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Fn(e){return z(e,!0,!0)}function Xe(e,t){return e===t||e!==e&&t!==t}function Un(e){return xn(e)&&$.call(e,"callee")&&(!Ut.call(e,"callee")||M.call(e)==ee)}var le=Array.isArray;function ze(e){return e!=null&&Mn(e.length)&&!et(e)}function xn(e){return Bn(e)&&ze(e)}var Jn=Jt||qn;function et(e){var t=q(e)?M.call(e):"";return t==te||t==Ne}function Mn(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Te}function q(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Bn(e){return!!e&&typeof e=="object"}function ie(e){return ze(e)?hn(e):yn(e)}function Pn(){return[]}function qn(){return!1}_.exports=Fn});var zn={};ht(zn,{chompLeft:()=>Yn,chompRight:()=>Xn,left:()=>H,leftSeq:()=>lt,leftStopAtNewLines:()=>Qn,leftStopAtRawNbsp:()=>Zn,right:()=>k,rightSeq:()=>it,rightStopAtNewLines:()=>Wn,rightStopAtRawNbsp:()=>Kn,version:()=>Hn});function y(e){if(e==null||typeof e!="object")return!1;let t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null?!1:!(Symbol.iterator in e)&&!(Symbol.toStringTag in e)}var d=pt(tt(),1);var nt="6.0.6";var Hn=nt,A="\xA0";function Gn(e){let t={value:e,hungry:!1,optional:!1};return(t.value.endsWith("?*")||t.value.endsWith("*?"))&&t.value.length>2?(t.value=t.value.slice(0,t.value.length-2),t.optional=!0,t.hungry=!0):t.value.endsWith("?")&&t.value.length>1?(t.value=t.value.slice(0,~-t.value.length),t.optional=!0):t.value.endsWith("*")&&t.value.length>1&&(t.value=t.value.slice(0,~-t.value.length),t.hungry=!0),t}function rt(e){return typeof e=="number"}function L(e){return typeof e=="string"}function ue({str:e,idx:t=0,stopAtNewlines:n=!1,stopAtRawNbsp:r=!1}){if(typeof e!="string"||!e.length||((!t||typeof t!="number")&&(t=0),!e[t+1]))return null;if(e[t+1]&&(e[t+1].trim()||n&&`
\r`.includes(e[t+1])||r&&e[t+1]===A))return t+1;if(e[t+2]&&(e[t+2].trim()||n&&`
\r`.includes(e[t+2])||r&&e[t+2]===A))return t+2;for(let o=t+1,i=e.length;o<i;o++)if(e[o].trim()||n&&`
\r`.includes(e[o])||r&&e[o]===A)return o;return null}function k(e,t=0){return ue({str:e,idx:t,stopAtNewlines:!1,stopAtRawNbsp:!1})}function Wn(e,t){return ue({str:e,idx:t,stopAtNewlines:!0,stopAtRawNbsp:!1})}function Kn(e,t){return ue({str:e,idx:t,stopAtNewlines:!1,stopAtRawNbsp:!0})}function se({str:e,idx:t,stopAtNewlines:n,stopAtRawNbsp:r}){if(typeof e!="string"||!e.length||((!t||typeof t!="number")&&(t=0),t<1))return null;if(e[~-t]&&(e[~-t].trim()||n&&`
\r`.includes(e[~-t])||r&&e[~-t]===A))return~-t;if(e[t-2]&&(e[t-2].trim()||n&&`
\r`.includes(e[t-2])||r&&e[t-2]===A))return t-2;for(let o=t;o--;)if(e[o]&&(e[o].trim()||n&&`
\r`.includes(e[o])||r&&e[o]===A))return o;return null}function H(e,t=0){return se({str:e,idx:t,stopAtNewlines:!1,stopAtRawNbsp:!1})}function Qn(e,t){return se({str:e,idx:t,stopAtNewlines:!0,stopAtRawNbsp:!1})}function Zn(e,t){return se({str:e,idx:t,stopAtNewlines:!1,stopAtRawNbsp:!0})}function ot(e,t,n,r,o){if(typeof t!="string"||!t.length||(typeof n!="number"&&(n=0),e==="right"&&!t[n+1]||e==="left"&&!t[~-n]))return null;let i=n,l=[],c,h,u,a=0;for(;a<o.length;){if(!L(o[a])||!o[a].length){a+=1;continue}let{value:g,optional:D,hungry:V}=Gn(o[a]),f=e==="right"?k(t,i):H(t,i);if(r.i&&t[f].toLowerCase()===g.toLowerCase()||!r.i&&t[f]===g){let ae=e==="right"?k(t,f):H(t,f);V&&(r.i&&t[ae].toLowerCase()===g.toLowerCase()||!r.i&&t[ae]===g)?u=!0:a+=1,typeof f=="number"&&e==="right"&&f>i+1?l.push([i+1,f]):e==="left"&&typeof f=="number"&&f<~-i&&l.unshift([f+1,i]),i=f,e==="right"?(c===void 0&&(c=f),h=f):(h===void 0&&(h=f),c=f)}else if(D){a+=1;continue}else if(u){a+=1,u=void 0;continue}else return null}return c===void 0||h===void 0?null:{gaps:l,leftmostChar:c,rightmostChar:h}}var G={i:!1};function lt(e,t,...n){if(!(n!=null&&n.length))throw new Error("string-left-right/leftSeq(): only two input arguments were passed! Did you intend to use left() method instead?");let r;return y(n[0])?r=p(p({},G),n.shift()):r=G,ot("left",e,t,r,Array.from(n).reverse())}function it(e,t,...n){if(!(n!=null&&n.length))throw new Error("string-left-right/rightSeq(): only two input arguments were passed! Did you intend to use right() method instead?");let r;return y(n[0])?r=p(p({},G),n.shift()):r=G,ot("right",e,t,r,n)}function N(e,t,n,r,o=[]){var h;if(typeof t!="string"||!t.length||((!n||typeof n!="number")&&(n=0),e==="right"&&!t[n+1]||e==="left"&&+n==0))return null;let i=null,l=null;do i=e==="right"?it(t,typeof l=="number"?l:n,...o):lt(t,typeof l=="number"?l:n,...o),i!==null&&(l=e==="right"?i.rightmostChar:i.leftmostChar);while(i);if(l!=null&&e==="right"&&(l+=1),l===null)return null;if(e==="right"){if((h=t[l])!=null&&h.trim())return l;let u=k(t,l);if(!r||r.mode===0){if(u===l+1)return l;if(t.slice(l,u||t.length).trim()||t.slice(l,u||t.length).includes(`
`)||t.slice(l,u||t.length).includes("\r")){for(let a=l,g=t.length;a<g;a++)if(`
\r`.includes(t[a]))return a}else return u?~-u:t.length}else{if(r.mode===1)return l;if(r.mode===2){let a=t.slice(l);if(a.trim()||a.includes(`
`)||a.includes("\r")){for(let g=l,D=t.length;g<D;g++)if(t[g].trim()||`
\r`.includes(t[g]))return g}return t.length}}return u||t.length}if(t[l]&&t[~-l]&&t[~-l].trim())return l;let c=H(t,l);if(!r||r.mode===0){if(c===l-2)return l;if(t.slice(0,l).trim()||t.slice(0,l).includes(`
`)||t.slice(0,l).includes("\r")){for(let u=l;u--;)if(`
\r`.includes(t[u])||t[u].trim())return u+1+(t[u].trim()?1:0)}return 0}if(r.mode===1)return l;if(r.mode===2){let u=t.slice(0,l);if(u.trim()||u.includes(`
`)||u.includes("\r")){for(let a=l;a--;)if(t[a].trim()||`
\r`.includes(t[a]))return a+1}return 0}return c!==null?c+1:0}function Yn(e,t,...n){if(!n.length||n.length===1&&y(n[0]))return null;let r={mode:0};if(y(n[0])){let o=p(p({},r),(0,d.default)(n[0]));if(!o.mode)o.mode=0;else if(L(o.mode)&&"0123".includes(o.mode))o.mode=Number.parseInt(o.mode,10);else if(!rt(o.mode))throw new Error(`string-left-right/chompLeft(): [THROW_ID_01] the opts.mode is wrong! It should be 0, 1, 2 or 3. It was given as ${o.mode} (type ${typeof o.mode})`);return N("left",e,t,o,(0,d.default)(n).slice(1))}return L(n[0])?N("left",e,t,r,(0,d.default)(n)):N("left",e,t,r,(0,d.default)(n).slice(1))}function Xn(e,t,...n){if(!n.length||n.length===1&&y(n[0]))return null;let r={mode:0};if(y(n[0])){let o=p(p({},r),(0,d.default)(n[0]));if(!o.mode)o.mode=0;else if(L(o.mode)&&"0123".includes(o.mode))o.mode=Number.parseInt(o.mode,10);else if(!rt(o.mode))throw new Error(`string-left-right/chompRight(): [THROW_ID_02] the opts.mode is wrong! It should be 0, 1, 2 or 3. It was given as ${o.mode} (type ${typeof o.mode})`);return N("right",e,t,o,(0,d.default)(n).slice(1))}return L(n[0])?N("right",e,t,r,(0,d.default)(n)):N("right",e,t,r,(0,d.default)(n).slice(1))}return mt(zn);})();
/**
 * @name codsen-utils
 * @fileoverview Various utility functions
 * @version 1.2.0
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/codsen-utils/}
 */
